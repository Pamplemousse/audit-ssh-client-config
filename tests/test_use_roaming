#
# UseRoaming
#
test_use_roaming_set_to_yes_on_a_specific_host_returns_a_warning() {
  cat << __EOF__ >"fake_bad_config"
Host hostname.com
  UseRoaming yes
__EOF__

  ../main fake_bad_config > result
  expected_message="WARNING: UseRoaming is set to 'yes' for host hostname.com"

  assert 'grep "$expected_message" result'
}

test_use_roaming_set_to_yes_on_star_host_returns_an_error() {
  cat << __EOF__ >"fake_bad_config"
Host *
  UseRoaming yes
__EOF__

  ../main fake_bad_config > result
  expected_message="ERROR: UseRoaming is set to 'yes' for host \*"

  assert 'grep "$expected_message" result'
}

test_missing_use_roaming_on_star_host_returns_an_error() {
  cat << __EOF__ >"fake_bad_config"
Host *
  Username yoloer
__EOF__

  ../main fake_bad_config > result
  expected_message="ERROR: UseRoaming is missing for host \*"

  assert 'grep "$expected_message" result'
}
